# vim:set ts=8 sw=2 sts=2 et:

# Mod1    Option / Alt
# Mod4    Command / Windows
#
# Mouse1  Left Click
# Mouse2  Middle Click
# Mouse3  Right Click
# Mouse4  Scroll Up
# Mouse5  Scroll Down

font -misc-fixed-medium-r-normal--14-130-75-75-c-70-iso10646-1

new_float normal 4
new_window normal 4
hide_edge_borders none

default_orientation auto
workspace_layout default

set $mod Mod4

set $left h
set $down j
set $up k
set $right l

# Applications
bindsym $mod+n exec google-chrome
bindsym $mod+e exec gvim
bindsym $mod+f exec nautilus --no-desktop > /dev/null 2>&1
bindsym $mod+t exec rxvt-unicode

# General actions
bindsym $mod+Return exec gnome-screensaver-command --lock
bindsym $mod+BackSpace exec gnome-screenshot
bindsym $mod+Escape exec xkill
bindsym $mod+space exec dmenu_run

# Window actions
bindsym $mod+w kill

# Floating windows
floating_modifier $mod

# Focus
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right
bindsym $mod+p focus parent
bindsym $mod+c focus child

# Moving windows
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

# Container layout
bindsym $mod+bracketleft layout tabbed
bindsym $mod+bracketright layout toggle split
bindsym $mod+u fullscreen toggle

bindsym $mod+minus split vertical
bindsym $mod+backslash split horizontal

# i3 Actions
bindsym $mod+a reload
bindsym $mod+q restart
bindsym $mod+Shift+q exec "i3-nagbar -t warning -m 'Quit i3?' -b 'Quit' 'i3-msg exit'"

# Change workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# Move window to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

bindsym $mod+r mode "resize"

mode "resize" {
  bindsym $left       resize shrink left 10 px or 20 ppt
  bindsym $down       resize shrink down 10 px or 20 ppt
  bindsym $up         resize shrink up 10 px or 20 ppt
  bindsym $right      resize shrink right 10 px or 20 ppt

  bindsym $mod+$left  resize grow left 10 px or 20 ppt
  bindsym $mod+$down  resize grow down 10 px or 20 ppt
  bindsym $mod+$up    resize grow up 10 px or 20 ppt
  bindsym $mod+$right resize grow right 10 px or 20 ppt

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

set $red    #ff0000
set $green  #00ff00
set $white  #ffffff
set $black  #000000

# Class                 Border    Backgrond Text     Indicator
client.focused          $green    $green    $black   $red
client.focused_inactive $black    $black    $white   $red
client.unfocused        $black    $black    $white   $red

bar {
  status_command i3status
  position bottom
  tray_output primary
  binding_mode_indicator yes
}

# Get rid of the horrible default GTK theme. Do this before running the `xset`
# invocations below so that gnome-settings-daemon does not override the settings
# made here.
exec gnome-settings-daemon

# Source ~/.Xresources
exec xrdb -merge ~/.Xresources

# Turn off the number lock.
exec_always numlockx off

# Set the keyboard repeat delay and repeat rate.
exec_always xset r rate 200 50  # in milliseconds and keystrokes/sec, respectively

# Poweroff the display after five minutes of inactivity
exec_always xset s blank
exec_always xset dpms 300 300 300

# Start conky.
exec conky &

# gnome-settings-daemon overrides these xset settings, so we'll have to invoke
# `xset` after gnome-settings-daemon is finished loading.
exec "i3-nagbar -t warning -m 'Is gnome-settings-daemon done loading?' -b 'Yes' 'xset r rate 200 50 && xset s blank && xset dpms 300 300 300'"
